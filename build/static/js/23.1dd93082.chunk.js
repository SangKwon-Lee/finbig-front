(this["webpackJsonpfinbig-front"]=this["webpackJsonpfinbig-front"]||[]).push([[23],{1317:function(t,e,n){"use strict";n.r(e);var r,i,a,o,u,s,c,d,l=n(186),f=n(79),h=n(504),p=n(25),b=n(505),v=n.n(b),g=n(518),O=n(521),j=n(511),m=n.n(j),$=n(1),y=n(8),w=n(264),x=n(185),k=n(503),S=k.a.div(r||(r=Object(x.a)(["\n  max-width: 1920px;\n  min-width: 1100px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding-top: 161px;\n  padding-bottom: 197px;\n"]))),M=k.a.div(i||(i=Object(x.a)(["\n  font-size: 20px;\n"]))),D=k.a.div(a||(a=Object(x.a)(["\n  width: 365px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  margin-top: 34px;\n"]))),I=k.a.input(o||(o=Object(x.a)(["\n  width: 365px;\n  height: 46px;\n  margin-bottom: 12px;\n  padding-left: 20px;\n  ::placeholder {\n    font-size: 12px;\n    color: #cccccc;\n  }\n  border: 1px solid #cccccc;\n  outline: none;\n"]))),P=k.a.button(u||(u=Object(x.a)(["\n  width: 365px;\n  height: 46px;\n  text-align: center;\n  font-size: 14px;\n  color: white;\n  background-color: #4033a2;\n  cursor: pointer;\n  outline: none;\n  border: none;\n  margin-bottom: 12px;\n"]))),C=k.a.div(s||(s=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 174px;\n  align-self: flex-end;\n"]))),T=k.a.div(c||(c=Object(x.a)(["\n  font-size: 12px;\n  color: #999999;\n  cursor: pointer;\n"]))),E=k.a.div(d||(d=Object(x.a)(["\n  color: #ff003e;\n  font-size: 11px;\n  margin-bottom: 12px;\n"]))),_=n(4),L=function(t){var e=t.handleLogin,n=t.loading,r=t.handleChnageInput,i=t.onEnterLogin,a=t.error,o=Object(y.d)();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(S,{children:[Object(_.jsx)(M,{children:"\ub85c\uadf8\uc778"}),Object(_.jsxs)(D,{children:[Object(_.jsx)(I,{onChange:r,name:"identifier",placeholder:"\uc544\uc774\ub514",onKeyPress:i}),Object(_.jsx)(I,{type:"password",onChange:r,name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",onKeyPress:i}),a&&Object(_.jsx)(E,{children:"\uc544\uc774\ub514 \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),Object(_.jsx)(P,{onClick:e,disabled:n,children:"\ub85c\uadf8\uc778"}),Object(_.jsxs)(C,{children:[Object(_.jsx)(T,{onClick:function(){o("/signup")},children:"\ud68c\uc6d0\uac00\uc785"}),Object(_.jsx)(T,{onClick:function(){o("/findUser")},children:"\uc544\uc774\ub514/\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"})]})]})]})})},Q=n(515);e.default=function(){var t=Object($.useContext)(w.a),e=t.setAccessToken,n=t.setUserData,r=sessionStorage.getItem("userId"),i=Object(y.d)(),a=Object($.useState)({identifier:"",password:""}),o=Object(p.a)(a,2),u=o[0],s=o[1],c=Object(g.a)(Q.e),d=Object(p.a)(c,2),b=d[0],j=d[1],x=j.loading,k=j.error,S=Object(g.a)(Q.c),M=Object(p.a)(S,1)[0],D=Object(O.a)(Q.d,{variables:{id:String(r)}}).fetchMore,I=Object(g.a)(Q.a),P=Object(p.a)(I,1)[0],C=Object(g.a)(Q.g),T=Object(p.a)(C,1)[0],E=Object(g.a)(Q.f),R=Object(p.a)(E,1)[0],Y=function(){var t=Object(h.a)(v.a.mark((function t(){var r,i,a,o,s,c,d;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b({variables:{input:{identifier:u.identifier,password:u.password}}});case 3:return a=t.sent,o=a.data,t.next=7,D({variables:{id:null===o||void 0===o?void 0:o.login.user.id}});case 7:if(s=t.sent,c=s.data,null===(r=c.user)||void 0===r||!r.isDeleted){t.next=12;break}return alert("\ud0c8\ud1f4\ub41c \ud68c\uc6d0\uc785\ub2c8\ub2e4."),t.abrupt("return");case 12:null!==(i=c.user)&&void 0!==i&&i.isSubscribe&&m()(new Date)>m()(null===c||void 0===c||null===(d=c.user)||void 0===d?void 0:d.expirationDate)&&W(),sessionStorage.setItem("accessToken",String(null===o||void 0===o?void 0:o.login.jwt)),sessionStorage.setItem("userId",String(null===o||void 0===o?void 0:o.login.user.id)),e(String(null===o||void 0===o?void 0:o.login.jwt)),n(null===c||void 0===c?void 0:c.user),H(null===o||void 0===o?void 0:o.login),t.next=24;break;case 20:return t.prev=20,t.t0=t.catch(0),alert("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),t.abrupt("return");case 24:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(){return t.apply(this,arguments)}}(),H=function(){var t=Object(h.a)(v.a.mark((function t(e){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M({variables:{userId:String(e.user.id),token:String(e.jwt)}});case 3:n=t.sent,r=n.data,sessionStorage.setItem("token",r.fetchToken.id),N(e.jwt,r.fetchToken.id),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),alert("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),U(e.jwt,e.user.id);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(h.a)(v.a.mark((function t(e,n){var r,a,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P({variables:{input:{data:{userId:n,token:e}}}});case 3:o=t.sent,u=o.data,sessionStorage.setItem("token",String(null===u||void 0===u||null===(r=u.createToken)||void 0===r||null===(a=r.token)||void 0===a?void 0:a.id)),i("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}(),N=function(){var t=Object(h.a)(v.a.mark((function t(e,n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T({variables:{input:{where:{id:String(n)},data:{token:e}}}});case 3:i("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),W=function(){var t=Object(h.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R({variables:{input:{data:{isSubscribe:!1},where:{id:String(r)}}}});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return Object(_.jsx)(L,{handleLogin:Y,loading:x,handleChnageInput:function(t){var e=t.target,n=e.name,r=e.value;s(Object(f.a)(Object(f.a)({},u),{},Object(l.a)({},n,r)))},onEnterLogin:function(t){"Enter"===t.key&&Y()},error:k})}},504:function(t,e,n){"use strict";function r(t,e,n,r,i,a,o){try{var u=t[a](o),s=u.value}catch(c){return void n(c)}u.done?e(s):Promise.resolve(s).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function u(t){r(o,i,a,u,s,"next",t)}function s(t){r(o,i,a,u,s,"throw",t)}u(void 0)}))}}n.d(e,"a",(function(){return i}))},505:function(t,e,n){t.exports=n(273)},511:function(t,e,n){t.exports=function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",a="minute",o="hour",u="day",s="week",c="month",d="quarter",l="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},O={s:g,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),a=n-i<0,o=e.clone().add(r+(a?-1:1),c);return+(-(r+(n-i)/(a?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:l,w:s,d:u,D:f,h:o,m:a,s:i,ms:r,Q:d}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},j="en",m={};m[j]=v;var $=function(t){return t instanceof k},y=function(t,e,n){var r;if(!t)return j;if("string"==typeof t)m[t]&&(r=t),e&&(m[t]=e,r=t);else{var i=t.name;m[i]=t,r=i}return!n&&r&&(j=r),r||!n&&j},w=function(t,e){if($(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new k(n)},x=O;x.l=y,x.i=$,x.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var k=function(){function v(t){this.$L=y(t.locale,null,!0),this.parse(t)}var g=v.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return x},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return w(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<w(t)},g.$g=function(t,e,n){return x.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,r=!!x.u(e)||e,d=x.p(t),h=function(t,e){var i=x.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(u)},p=function(t,e){return x.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},b=this.$W,v=this.$M,g=this.$D,O="set"+(this.$u?"UTC":"");switch(d){case l:return r?h(1,0):h(31,11);case c:return r?h(1,v):h(0,v+1);case s:var j=this.$locale().weekStart||0,m=(b<j?b+7:b)-j;return h(r?g-m:g+(6-m),v);case u:case f:return p(O+"Hours",0);case o:return p(O+"Minutes",1);case a:return p(O+"Seconds",2);case i:return p(O+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var n,s=x.p(t),d="set"+(this.$u?"UTC":""),h=(n={},n[u]=d+"Date",n[f]=d+"Date",n[c]=d+"Month",n[l]=d+"FullYear",n[o]=d+"Hours",n[a]=d+"Minutes",n[i]=d+"Seconds",n[r]=d+"Milliseconds",n)[s],p=s===u?this.$D+(e-this.$W):e;if(s===c||s===l){var b=this.clone().set(f,1);b.$d[h](p),b.init(),this.$d=b.set(f,Math.min(this.$D,b.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[x.p(t)]()},g.add=function(r,d){var f,h=this;r=Number(r);var p=x.p(d),b=function(t){var e=w(h);return x.w(e.date(e.date()+Math.round(t*r)),h)};if(p===c)return this.set(c,this.$M+r);if(p===l)return this.set(l,this.$y+r);if(p===u)return b(1);if(p===s)return b(7);var v=(f={},f[a]=e,f[o]=n,f[i]=t,f)[p]||1,g=this.$d.getTime()+r*v;return x.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=x.z(this),a=this.$H,o=this.$m,u=this.$M,s=n.weekdays,c=n.months,d=function(t,n,i,a){return t&&(t[n]||t(e,r))||i[n].substr(0,a)},l=function(t){return x.s(a%12||12,t,"0")},f=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:x.s(u+1,2,"0"),MMM:d(n.monthsShort,u,c,3),MMMM:d(c,u),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:d(n.weekdaysMin,this.$W,s,2),ddd:d(n.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(a),HH:x.s(a,2,"0"),h:l(1),hh:l(2),a:f(a,o,!0),A:f(a,o,!1),m:String(o),mm:x.s(o,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:i};return r.replace(b,(function(t,e){return e||p[t]||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,f,h){var p,b=x.p(f),v=w(r),g=(v.utcOffset()-this.utcOffset())*e,O=this-v,j=x.m(this,v);return j=(p={},p[l]=j/12,p[c]=j,p[d]=j/3,p[s]=(O-g)/6048e5,p[u]=(O-g)/864e5,p[o]=O/n,p[a]=O/e,p[i]=O/t,p)[b]||O,h?j:x.a(j)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return m[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=y(t,e,!0);return r&&(n.$L=r),n},g.clone=function(){return x.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),S=k.prototype;return w.prototype=S,[["$ms",r],["$s",i],["$m",a],["$H",o],["$W",u],["$M",c],["$y",l],["$D",f]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,k,w),t.$i=!0),w},w.locale=y,w.isDayjs=$,w.unix=function(t){return w(1e3*t)},w.en=m[j],w.Ls=m,w.p={},w}()},515:function(t,e,n){"use strict";n.d(e,"e",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"g",(function(){return b})),n.d(e,"b",(function(){return v})),n.d(e,"d",(function(){return g})),n.d(e,"f",(function(){return O}));var r,i,a,o,u,s,c,d=n(185),l=n(1299),f=Object(l.a)(r||(r=Object(d.a)(["\n  mutation Login($input: UsersPermissionsLoginInput!) {\n    login(input: $input) {\n      jwt\n      user {\n        id\n        email\n        confirmed\n        blocked\n        role {\n          id\n          name\n          description\n          type\n        }\n      }\n    }\n  }\n"]))),h=Object(l.a)(i||(i=Object(d.a)(["\n  mutation createToken($input: createTokenInput!) {\n    createToken(input: $input) {\n      token {\n        id\n      }\n    }\n  }\n"]))),p=Object(l.a)(a||(a=Object(d.a)(["\n  mutation fetchToken($userId: String, $token: String) {\n    fetchToken(userId: $userId, token: $token) {\n      id\n      token\n      userId\n    }\n  }\n"]))),b=Object(l.a)(o||(o=Object(d.a)(["\n  mutation updateToken($input: updateTokenInput) {\n    updateToken(input: $input) {\n      token {\n        id\n      }\n    }\n  }\n"]))),v=Object(l.a)(u||(u=Object(d.a)(["\n  mutation deleteToken($input: deleteTokenInput) {\n    deleteToken(input: $input) {\n      token {\n        id\n      }\n    }\n  }\n"]))),g=Object(l.a)(s||(s=Object(d.a)(["\n  query user($id: ID!) {\n    user(id: $id) {\n      isDeleted\n      username\n      email\n      name\n      phone\n      isSubscribe\n      expirationDate\n    }\n  }\n"]))),O=Object(l.a)(c||(c=Object(d.a)(["\n  mutation updateUser($input: updateUserInput) {\n    updateUser(input: $input) {\n      user {\n        id\n      }\n    }\n  }\n"])))},518:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(0),i=n(1),a=n(498),o=n(19),u=n(510),s=n(59),c=n(509);function d(t,e){var n=Object(c.a)(null===e||void 0===e?void 0:e.client);Object(u.b)(t,u.a.Mutation);var d=Object(i.useState)({called:!1,loading:!1,client:n}),l=d[0],f=d[1],h=Object(i.useRef)({result:l,mutationId:0,isMounted:!0,client:n,mutation:t,options:e});Object.assign(h.current,{client:n,options:e,mutation:t});var p=Object(i.useCallback)((function(t){void 0===t&&(t={});var e=h.current,n=e.client,i=e.options,u=e.mutation,c=Object(r.a)(Object(r.a)({},i),{mutation:u});h.current.result.loading||c.ignoreResults||f(h.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:n});var d=++h.current.mutationId,l=Object(a.b)(c,t);return n.mutate(l).then((function(e){var r,i,a=e.data,u=e.errors,p=u&&u.length>0?new s.a({graphQLErrors:u}):void 0;if(d===h.current.mutationId&&!l.ignoreResults){var b={called:!0,loading:!1,data:a,error:p,client:n};h.current.isMounted&&!Object(o.a)(h.current.result,b)&&f(h.current.result=b)}return null===(r=c.onCompleted)||void 0===r||r.call(c,e.data),null===(i=t.onCompleted)||void 0===i||i.call(t,e.data),e})).catch((function(e){var r,i;if(d===h.current.mutationId&&h.current.isMounted){var a={loading:!1,error:e,data:void 0,called:!0,client:n};Object(o.a)(h.current.result,a)||f(h.current.result=a)}if(c.onError||l.onError)return null===(r=c.onError)||void 0===r||r.call(c,e),null===(i=t.onError)||void 0===i||i.call(t,e),{data:void 0,errors:e};throw e}))}),[]),b=Object(i.useCallback)((function(){f({called:!1,loading:!1,client:n})}),[]);return Object(i.useEffect)((function(){return function(){h.current.isMounted=!1}}),[]),[p,Object(r.a)({reset:b},l)]}},521:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(0),i=n(1),a=n(19),o=n(498),u=n(271),s=n(59),c=n(14),d=n(510),l=n(509);function f(t,e){var n,o=Object(i.useContext)(Object(u.a)()),f=Object(l.a)(null===e||void 0===e?void 0:e.client),p=f.defaultOptions.watchQuery;Object(d.b)(t,d.a.Query);var b,v=Object(i.useState)((function(){var n=h(t,e,p),r=null;return o.renderPromises&&(r=o.renderPromises.getSSRObservable(n)),r||(r=f.watchQuery(n),o.renderPromises&&o.renderPromises.registerSSRObservable(r,n)),o.renderPromises&&!1!==(null===e||void 0===e?void 0:e.ssr)&&!(null===e||void 0===e?void 0:e.skip)&&r.getCurrentResult().loading&&o.renderPromises.addQueryPromise({getOptions:function(){return h(t,e,p)},fetchData:function(){return new Promise((function(t){var e=r.subscribe({next:function(n){n.loading||(t(),e.unsubscribe())},error:function(){t(),e.unsubscribe()},complete:function(){t()}})}))}},(function(){return null})),r})),g=v[0],O=v[1],j=Object(i.useState)((function(){var t,n,r=g.getCurrentResult();return!r.loading&&e&&(r.error?null===(t=e.onError)||void 0===t||t.call(e,r.error):r.data&&(null===(n=e.onCompleted)||void 0===n||n.call(e,r.data))),r})),m=j[0],$=j[1],y=Object(i.useRef)({client:f,query:t,options:e,result:m,previousData:void 0,watchQueryOptions:h(t,e,p)});Object(i.useEffect)((function(){var n,r,i,o=h(t,e,p);if(y.current.client===f&&Object(a.a)(y.current.query,t))Object(a.a)(y.current.watchQueryOptions,o)||(g.setOptions(o).catch((function(){})),i=g.getCurrentResult(),y.current.watchQueryOptions=o);else{var u=f.watchQuery(o);O(u),i=u.getCurrentResult()}if(i){var s=y.current.result;s.data&&(y.current.previousData=s.data),$(y.current.result=i),!i.loading&&e&&(i.error?null===(n=e.onError)||void 0===n||n.call(e,i.error):i.data&&(null===(r=e.onCompleted)||void 0===r||r.call(e,i.data)))}Object.assign(y.current,{client:f,query:t})}),[g,f,t,e]),Object(i.useEffect)((function(){if(!o.renderPromises){var t=g.subscribe(e,(function n(r){var i,o,u=g.last;t.unsubscribe();try{g.resetLastResults(),t=g.subscribe(e,n)}finally{g.last=u}if(!r.hasOwnProperty("graphQLErrors"))throw r;var s=y.current.result;(s&&s.loading||!Object(a.a)(r,s.error))&&($(y.current.result={data:s.data,error:r,loading:!1,networkStatus:c.a.error}),null===(o=null===(i=y.current.options)||void 0===i?void 0:i.onError)||void 0===o||o.call(i,r))}));return function(){return t.unsubscribe()}}function e(){var t,e,n=y.current.result,r=g.getCurrentResult();n&&n.loading===r.loading&&n.networkStatus===r.networkStatus&&Object(a.a)(n.data,r.data)||(n.data&&(y.current.previousData=n.data),$(y.current.result=r),r.loading||null===(e=null===(t=y.current.options)||void 0===t?void 0:t.onCompleted)||void 0===e||e.call(t,r.data))}}),[g,o.renderPromises,f.disableNetworkFetches]),b=(n=m).partial,m=Object(r.e)(n,["partial"]),!b||!(null===e||void 0===e?void 0:e.partialRefetch)||m.loading||m.data&&0!==Object.keys(m.data).length||"cache-only"===g.options.fetchPolicy||(m=Object(r.a)(Object(r.a)({},m),{loading:!0,networkStatus:c.a.refetch}),g.refetch()),o.renderPromises&&!1!==(null===e||void 0===e?void 0:e.ssr)&&!(null===e||void 0===e?void 0:e.skip)&&m.loading&&g.setOptions(h(t,e,p)).catch((function(){})),Object.assign(y.current,{options:e}),(o.renderPromises||f.disableNetworkFetches)&&!1===(null===e||void 0===e?void 0:e.ssr)?m=y.current.result={loading:!0,data:void 0,error:void 0,networkStatus:c.a.loading}:((null===e||void 0===e?void 0:e.skip)||"standby"===(null===e||void 0===e?void 0:e.fetchPolicy))&&(m={loading:!1,data:void 0,error:void 0,networkStatus:c.a.ready}),m.errors&&m.errors.length&&(m=Object(r.a)(Object(r.a)({},m),{error:m.error||new s.a({graphQLErrors:m.errors})}));var w=Object(i.useMemo)((function(){return{refetch:g.refetch.bind(g),fetchMore:g.fetchMore.bind(g),updateQuery:g.updateQuery.bind(g),startPolling:g.startPolling.bind(g),stopPolling:g.stopPolling.bind(g),subscribeToMore:g.subscribeToMore.bind(g)}}),[g]);return Object(r.a)(Object(r.a)(Object(r.a)({},w),{variables:h(t,e,p).variables,client:f,called:!0,previousData:y.current.previousData}),m)}function h(t,e,n){var i;void 0===e&&(e={});var a=e.skip,u=(e.ssr,e.onCompleted,e.onError,e.displayName,Object(r.e)(e,["skip","ssr","onCompleted","onError","displayName"])),s=Object(r.a)({query:t},u);return n&&(s=Object(o.b)(n,s)),a?s.fetchPolicy="standby":(!(null===(i=s.context)||void 0===i?void 0:i.renderPromises)||"network-only"!==s.fetchPolicy&&"cache-and-network"!==s.fetchPolicy)&&s.fetchPolicy||(s.fetchPolicy="cache-first"),s.variables||(s.variables={}),s}}}]);
//# sourceMappingURL=23.1dd93082.chunk.js.map