{"version":3,"sources":["components/mypage/withdraw/MypageWithdraw.style.ts","components/mypage/withdraw/MypageWithdraw.presenter.tsx","components/mypage/withdraw/MypageWithdraw.query.ts","components/mypage/withdraw/MypageWithdraw.container.tsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/regenerator/index.js","components/login/Login.query.ts","../../../../src/react/hooks/useMutation.ts","components/common/hocs/withAuth.tsx","components/common/layout/mypage/MypageLayout.style.ts","components/common/layout/mypage/MypageLayout.presenter.tsx","components/common/layout/mypage/MypageLayout.container.tsx","assets/images/checkGray.svg","assets/images/checkColor.svg"],"names":["MypageWithdrawWrapper","styled","div","MypageBody","MypageWithdrawContentsWrapper","MypageWithdrawTitle","MypageLine","MypageWithdrawTopBox","MypageWithdrawBottomBox","MypageWithdrawContentsTitle","MypageWithdrawContents","MypageWithdrawBottomLine","MypageWithdrawAgree","MypageWithdrawCheckImg","img","MypageWithdrawBtnWrapper","MypageWithdrawBtn","button","MypageWithdrawCancelBtn","MypageWithdrawPresenter","check","setCheck","handleDeleteUser","menu","style","marginTop","onClick","src","CheckColorSVG","CheckGraySVG","DELETE_USER","gql","WithAuth","navigate","useNavigate","useState","useMutation","deleteUser","a","variables","input","data","isDeleted","deletedAt","Date","where","id","String","sessionStorage","getItem","alert","clear","localStorage","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","module","exports","LOGIN","CREATE_TOKEN","FETCH_TOKEN","UPDATE_TOKEN","DELETE_TOKEN","FETCH_USER","UPDATE_IS_SUBSCRIPTION_USER","mutation","options","client","Mutation","called","loading","result","setResult","ref","mutationId","isMounted","Object","assign","current","execute","executeOptions","baseOptions","ignoreResults","clientOptions","mutate","response","errors","length","graphQLErrors","onCompleted","catch","onError","reset","Component","props","fetchToken","userId","token","handleTokenCheck","useEffect","MypageMenuWrapper","MypageTitle","MypageBtn","MypageLayoutPresenter","borderBottom","MypageLayoutContainer"],"mappings":"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","file":"static/js/20.7a8e89c7.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\n\nexport const MypageWithdrawWrapper = styled.div`\n  max-width: 1920px;\n  min-width: 1100px;\n  width: 100%;\n  padding-top: 58px;\n  display: flex;\n  justify-content: center;\n  padding-bottom: 110px;\n`;\n\nexport const MypageBody = styled.div`\n  display: flex;\n  width: 1100px;\n  justify-content: space-between;\n`;\n\nexport const MypageWithdrawContentsWrapper = styled.div`\n  width: 821px;\n  padding-top: 9px;\n`;\n\nexport const MypageWithdrawTitle = styled.div`\n  font-family: SpoqaHanSansNeo-Bold;\n  padding-bottom: 6px;\n`;\n\nexport const MypageLine = styled.div`\n  width: 821px;\n  border-top: 1px solid #c1c1c1;\n  margin-top: 10px;\n  margin-bottom: 26.5px;\n`;\n\nexport const MypageWithdrawTopBox = styled.div`\n  width: 821px;\n  height: 123px;\n  background-color: #f9f9f9;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding-left: 43px;\n  margin-bottom: 16px;\n`;\n\nexport const MypageWithdrawBottomBox = styled.div`\n  width: 821px;\n  height: 137px;\n  background-color: #f9f9f9;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding-left: 43px;\n  margin-bottom: 20px;\n`;\n\nexport const MypageWithdrawContentsTitle = styled.div`\n  font-family: SpoqaHanSansNeo-Bold;\n  padding-bottom: 10px;\n`;\n\nexport const MypageWithdrawContents = styled.div`\n  font-size: 14px;\n  color: #999999;\n`;\n\nexport const MypageWithdrawBottomLine = styled.div`\n  width: 821px;\n  border-top: 1px solid #c1c1c1;\n`;\n\nexport const MypageWithdrawAgree = styled.div`\n  font-family: SpoqaHanSansNeo-Bold;\n  padding-top: 16.5px;\n  padding-bottom: 10.5px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n`;\n\nexport const MypageWithdrawCheckImg = styled.img`\n  margin-right: 16.5px;\n`;\n\nexport const MypageWithdrawBtnWrapper = styled.div`\n  width: 821px;\n  display: flex;\n  justify-content: center;\n  margin-top: 38.5px;\n`;\n\nexport const MypageWithdrawBtn = styled.button`\n  width: 263px;\n  height: 46px;\n  outline: none;\n  cursor: pointer;\n  background-color: white;\n  border: 1px solid #cccccc;\n  color: #999999;\n  font-size: 14px;\n  margin-right: 16px;\n`;\n\nexport const MypageWithdrawCancelBtn = styled.button`\n  width: 263px;\n  height: 46px;\n  outline: none;\n  cursor: pointer;\n  background-color: #4033a2;\n  border: none;\n  color: white;\n  font-size: 14px;\n`;\n","import MypageLayoutContainer from \"../../common/layout/mypage/MypageLayout.container\";\nimport {\n  MypageBody,\n  MypageWithdrawContentsWrapper,\n  MypageWithdrawTitle,\n  MypageWithdrawWrapper,\n  MypageLine,\n  MypageWithdrawTopBox,\n  MypageWithdrawContentsTitle,\n  MypageWithdrawContents,\n  MypageWithdrawBottomBox,\n  MypageWithdrawBottomLine,\n  MypageWithdrawAgree,\n  MypageWithdrawCheckImg,\n  MypageWithdrawBtnWrapper,\n  MypageWithdrawBtn,\n  MypageWithdrawCancelBtn,\n} from \"./MypageWithdraw.style\";\nimport CheckGraySVG from \"../../../assets/images/checkGray.svg\";\nimport CheckColorSVG from \"../../../assets/images/checkColor.svg\";\n\ninterface IMypageWithdrawProps {\n  check: boolean;\n  setCheck: React.Dispatch<React.SetStateAction<boolean>>;\n  handleDeleteUser: () => Promise<void>;\n}\n\nconst MypageWithdrawPresenter: React.FC<IMypageWithdrawProps> = ({\n  check,\n  setCheck,\n  handleDeleteUser,\n}) => {\n  return (\n    <MypageWithdrawWrapper>\n      <MypageBody>\n        <MypageLayoutContainer menu=\"withdraw\" />\n        <MypageWithdrawContentsWrapper>\n          <MypageWithdrawTitle>회원탈퇴</MypageWithdrawTitle>\n          <MypageLine />\n          <MypageWithdrawTopBox>\n            <MypageWithdrawContentsTitle>\n              회원정보 및 내역 삭제\n            </MypageWithdrawContentsTitle>\n\n            <MypageWithdrawContents>\n              회원 탈퇴 즉시 회원정보와 구매한 데이터는 모두 삭제되고, 재가입 시\n              복구되지 않습니다.\n              <br />\n              [주의사항] 회원 탈퇴 후 재가입 시 기존에 구매한 데이터가 모두\n              삭제되었기에 재구매 하셔야 합니다.\n            </MypageWithdrawContents>\n          </MypageWithdrawTopBox>\n          <MypageWithdrawBottomBox>\n            <MypageWithdrawContentsTitle>\n              고객의 사전 동의 및 법령에 따른 개인정보 보유\n            </MypageWithdrawContentsTitle>\n            <MypageWithdrawContents>\n              · 보존 근거 : 전자상거래 등에서의 소비자보호를 위한 법률\n              <br />\n              · 보존 기간 : 회원탈퇴 후 5년간\n              <br />· 보존 정보 : 계약, 구매내역, 대금결제, 민원 등에 관한 기록\n            </MypageWithdrawContents>\n          </MypageWithdrawBottomBox>\n          <MypageWithdrawContents>\n            구독 기간이 남았을경우 별도의 환불 없이 아이디가 삭제 됩니다\n          </MypageWithdrawContents>\n          <MypageWithdrawBottomLine style={{ marginTop: \"20px\" }} />\n          <MypageWithdrawAgree\n            onClick={() => {\n              setCheck(() => !check);\n            }}\n          >\n            <MypageWithdrawCheckImg\n              src={!check ? CheckGraySVG : CheckColorSVG}\n            />\n            상기 사항을 모두 확인하였으며, 안내사항에 동의합니다\n          </MypageWithdrawAgree>\n          <MypageWithdrawBottomLine />\n          <MypageWithdrawBtnWrapper>\n            <MypageWithdrawBtn onClick={handleDeleteUser}>\n              회원탈퇴\n            </MypageWithdrawBtn>\n            <MypageWithdrawCancelBtn>취소</MypageWithdrawCancelBtn>\n          </MypageWithdrawBtnWrapper>\n        </MypageWithdrawContentsWrapper>\n      </MypageBody>\n    </MypageWithdrawWrapper>\n  );\n};\n\nexport default MypageWithdrawPresenter;\n","import { gql } from \"@apollo/client\";\n\nexport const DELETE_USER = gql`\n  mutation updateUser($input: updateUserInput!) {\n    updateUser(input: $input) {\n      user {\n        id\n      }\n    }\n  }\n`;\n","import { useMutation } from \"@apollo/client\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport {\n  Mutation,\n  MutationUpdateUserArgs,\n} from \"../../../commons/types/generated/types\";\nimport WithAuth from \"../../common/hocs/withAuth\";\nimport MypageWithdrawPresenter from \"./MypageWithdraw.presenter\";\nimport { DELETE_USER } from \"./MypageWithdraw.query\";\n\nconst MypageWithdrawContainer = () => {\n  const navigate = useNavigate();\n\n  //* 약관동의 체크\n  const [check, setCheck] = useState(false);\n\n  //* 탈퇴\n  const [deleteUser] = useMutation<Mutation, MutationUpdateUserArgs>(\n    DELETE_USER\n  );\n\n  //* 탈퇴 함수\n  const handleDeleteUser = async () => {\n    if (check) {\n      try {\n        await deleteUser({\n          variables: {\n            input: {\n              data: {\n                isDeleted: true,\n                deletedAt: new Date(),\n              },\n              where: {\n                id: String(sessionStorage.getItem(\"userId\")),\n              },\n            },\n          },\n        });\n        alert(\"정상적으로 탈퇴됐습니다.\");\n        sessionStorage.clear();\n        localStorage.clear();\n        navigate(\"/\");\n      } catch (error) {\n        alert(\"오류가 발생했습니다.\");\n      }\n    } else {\n      alert(\"안내사항에 동의해주셔야 합니다.\");\n    }\n  };\n\n  return (\n    <MypageWithdrawPresenter\n      check={check}\n      setCheck={setCheck}\n      handleDeleteUser={handleDeleteUser}\n    />\n  );\n};\n\nexport default WithAuth(MypageWithdrawContainer);\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","module.exports = require(\"regenerator-runtime\");\n","import { gql } from \"@apollo/client\";\n\nexport const LOGIN = gql`\n  mutation Login($input: UsersPermissionsLoginInput!) {\n    login(input: $input) {\n      jwt\n      user {\n        id\n        email\n        confirmed\n        blocked\n        role {\n          id\n          name\n          description\n          type\n        }\n      }\n    }\n  }\n`;\n\nexport const CREATE_TOKEN = gql`\n  mutation createToken($input: createTokenInput!) {\n    createToken(input: $input) {\n      token {\n        id\n      }\n    }\n  }\n`;\n\nexport const FETCH_TOKEN = gql`\n  mutation fetchToken($userId: String, $token: String) {\n    fetchToken(userId: $userId, token: $token) {\n      id\n      token\n      userId\n    }\n  }\n`;\n\nexport const UPDATE_TOKEN = gql`\n  mutation updateToken($input: updateTokenInput) {\n    updateToken(input: $input) {\n      token {\n        id\n      }\n    }\n  }\n`;\n\nexport const DELETE_TOKEN = gql`\n  mutation deleteToken($input: deleteTokenInput) {\n    deleteToken(input: $input) {\n      token {\n        id\n      }\n    }\n  }\n`;\n\nexport const FETCH_USER = gql`\n  query user($id: ID!) {\n    user(id: $id) {\n      isDeleted\n      username\n      email\n      name\n      phone\n      isSubscribe\n      expirationDate\n    }\n  }\n`;\n\nexport const UPDATE_IS_SUBSCRIPTION_USER = gql`\n  mutation updateUser($input: updateUserInput) {\n    updateUser(input: $input) {\n      user {\n        id\n      }\n    }\n  }\n`;\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { DocumentNode } from 'graphql';\nimport { TypedDocumentNode } from '@graphql-typed-document-node/core';\nimport {\n  MutationFunctionOptions,\n  MutationHookOptions,\n  MutationResult,\n  MutationTuple,\n} from '../types/types';\n\nimport {\n  ApolloCache,\n  DefaultContext,\n  mergeOptions,\n  OperationVariables,\n} from '../../core';\nimport { equal } from '@wry/equality';\nimport { DocumentType, verifyDocumentType } from '../parser';\nimport { ApolloError } from '../../errors';\nimport { useApolloClient } from './useApolloClient';\n\nexport function useMutation<\n  TData = any,\n  TVariables = OperationVariables,\n  TContext = DefaultContext,\n  TCache extends ApolloCache<any> = ApolloCache<any>,\n>(\n  mutation: DocumentNode | TypedDocumentNode<TData, TVariables>,\n  options?: MutationHookOptions<TData, TVariables, TContext>,\n): MutationTuple<TData, TVariables, TContext, TCache> {\n  const client = useApolloClient(options?.client);\n  verifyDocumentType(mutation, DocumentType.Mutation);\n  const [result, setResult] = useState<Omit<MutationResult, 'reset'>>({\n    called: false,\n    loading: false,\n    client,\n  });\n\n  const ref = useRef({\n    result,\n    mutationId: 0,\n    isMounted: true,\n    client,\n    mutation,\n    options,\n  });\n\n  // TODO: Trying to assign these in a useEffect or useLayoutEffect breaks\n  // higher-order components.\n  {\n    Object.assign(ref.current, { client, options, mutation });\n  }\n\n  const execute = useCallback((\n    executeOptions: MutationFunctionOptions<\n      TData,\n      TVariables,\n      TContext,\n      TCache\n    > = {}\n  ) => {\n    const {client, options, mutation} = ref.current;\n    const baseOptions = { ...options, mutation };\n    if (!ref.current.result.loading && !baseOptions.ignoreResults) {\n      setResult(ref.current.result = {\n        loading: true,\n        error: void 0,\n        data: void 0,\n        called: true,\n        client,\n      });\n    }\n\n    const mutationId = ++ref.current.mutationId;\n    const clientOptions = mergeOptions(\n      baseOptions,\n      executeOptions as any,\n    );\n\n    return client.mutate(clientOptions).then((response) => {\n      const { data, errors } = response;\n      const error =\n        errors && errors.length > 0\n          ? new ApolloError({ graphQLErrors: errors })\n          : void 0;\n\n      if (\n        mutationId === ref.current.mutationId &&\n        !clientOptions.ignoreResults\n      ) {\n        const result = {\n          called: true,\n          loading: false,\n          data,\n          error,\n          client,\n        };\n\n        if (ref.current.isMounted && !equal(ref.current.result, result)) {\n          setResult(ref.current.result = result);\n        }\n      }\n\n      baseOptions.onCompleted?.(response.data!);\n      executeOptions.onCompleted?.(response.data!);\n      return response;\n    }).catch((error) => {\n      if (\n        mutationId === ref.current.mutationId &&\n        ref.current.isMounted\n      ) {\n        const result = {\n          loading: false,\n          error,\n          data: void 0,\n          called: true,\n          client,\n        };\n\n        if (!equal(ref.current.result, result)) {\n          setResult(ref.current.result = result);\n        }\n      }\n\n      if (baseOptions.onError || clientOptions.onError) {\n        baseOptions.onError?.(error);\n        executeOptions.onError?.(error);\n        // TODO(brian): why are we returning this here???\n        return { data: void 0, errors: error };\n      }\n\n      throw error;\n    });\n  }, []);\n\n  const reset = useCallback(() => {\n    setResult({ called: false, loading: false, client });\n  }, []);\n\n  useEffect(() => () => {\n    ref.current.isMounted = false;\n  }, []);\n\n  return [execute, { reset, ...result }];\n}\n","import { useMutation } from \"@apollo/client\";\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { FETCH_TOKEN } from \"../../login/Login.query\";\n\nexport default function WithAuth(Component: any) {\n  return function HandleCheckLogin(props: any) {\n    const [fetchToken] = useMutation(FETCH_TOKEN);\n    const navigate = useNavigate();\n    const userId = sessionStorage.getItem(\"userId\");\n    const token = sessionStorage.getItem(\"accessToken\");\n\n    //* 토큰 체크\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const handleTokenCheck = async () => {\n      try {\n        await fetchToken({\n          variables: {\n            userId,\n            token,\n          },\n        });\n      } catch {\n        alert(\"로그인이 필요합니다.\");\n        navigate(\"/login\");\n        return false;\n      }\n    };\n\n    useEffect(() => {\n      handleTokenCheck();\n      return;\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return <Component {...props}></Component>;\n  };\n}\n","import styled from \"@emotion/styled\";\n\ninterface IMypageLayoutProps {\n  menu?: boolean;\n}\n\nexport const MypageMenuWrapper = styled.div`\n  width: 226px;\n  min-width: 226px;\n  height: 340px;\n  border: 2px solid #d7d7d7;\n`;\n\nexport const MypageTitle = styled.div`\n  width: 100%;\n  height: 71px;\n  background-color: #4033a2;\n  color: white;\n  font-family: SpoqaHanSansNeo-Bold;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-bottom: 1px solid #d7d7d7;\n  cursor: pointer;\n`;\n\nexport const MypageBtn = styled.button`\n  outline: none;\n  background-color: white;\n  color: ${(props: IMypageLayoutProps) => (props.menu ? \"black\" : \"#999999\")};\n  font-size: 14px;\n  width: 100%;\n  height: 53px;\n  border: none;\n  border-bottom: 1px solid #d7d7d7;\n  cursor: pointer;\n  font-family: ${(props: IMypageLayoutProps) =>\n    props.menu ? \"SpoqaHanSansNeo-Bold\" : \"SpoqaHanSansNeo-Regular\"};\n`;\n\nexport const MypageContentsWrapper = styled.div`\n  width: 821px;\n`;\n","import { useNavigate } from \"react-router\";\nimport {\n  MypageMenuWrapper,\n  MypageTitle,\n  MypageBtn,\n} from \"./MypageLayout.style\";\n\ninterface IMypageLayoutProps {\n  menu: string;\n}\n\nconst MypageLayoutPresenter: React.FC<IMypageLayoutProps> = ({ menu }) => {\n  const navigate = useNavigate();\n\n  return (\n    <MypageMenuWrapper>\n      <MypageTitle\n        onClick={() => {\n          navigate(\"/mypage/main\");\n        }}\n      >\n        My Page\n      </MypageTitle>\n      <MypageBtn\n        menu={menu === \"payment\" ? true : false}\n        onClick={() => {\n          navigate(\"/mypage/payment\");\n        }}\n      >\n        결제내역\n      </MypageBtn>\n      <MypageBtn\n        menu={menu === \"download\" ? true : false}\n        onClick={() => {\n          navigate(\"/mypage/download\");\n        }}\n      >\n        다운로드 내역\n      </MypageBtn>\n      <MypageBtn\n        menu={menu === \"recent\" ? true : false}\n        onClick={() => {\n          navigate(\"/mypage/recent\");\n        }}\n      >\n        최근 본 데이터\n      </MypageBtn>\n      <MypageBtn\n        menu={menu === \"profile\" ? true : false}\n        onClick={() => {\n          navigate(\"/mypage/profile\");\n        }}\n      >\n        회원정보 변경\n      </MypageBtn>\n      <MypageBtn\n        menu={menu === \"withdraw\" ? true : false}\n        style={{ borderBottom: \"none\" }}\n        onClick={() => {\n          navigate(\"/mypage/withdraw\");\n        }}\n      >\n        회원탈퇴\n      </MypageBtn>\n    </MypageMenuWrapper>\n  );\n};\nexport default MypageLayoutPresenter;\n","import MypageLayoutPresenter from \"./MypageLayout.presenter\";\n\ninterface IMypageLayoutProps {\n  menu: string;\n}\n\nconst MypageLayoutContainer: React.FC<IMypageLayoutProps> = ({ menu }) => {\n  return <MypageLayoutPresenter menu={menu} />;\n};\nexport default MypageLayoutContainer;\n","export default __webpack_public_path__ + \"static/media/checkGray.58d57499.svg\";","export default __webpack_public_path__ + \"static/media/checkColor.936a122f.svg\";"],"sourceRoot":""}